{"version":3,"sources":["./src/app/attendance/attendance-routing.module.ts","./src/app/attendance/attendance.module.ts","./src/app/attendance/attendance.page.ts","./src/app/attendance/attendance.page.scss","./src/app/attendance/attendance.page.html"],"names":[],"mappings":"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","file":"src_app_attendance_attendance_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AttendancePage } from './attendance.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AttendancePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AttendancePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AttendancePage } from './attendance.page';\r\n\r\nimport { AttendancePageRoutingModule } from './attendance-routing.module';\r\n\r\nimport { SharedComponentsModule } from '../components/shared-components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    AttendancePageRoutingModule,\r\n    SharedComponentsModule\r\n  ],\r\n  declarations: [\r\n    AttendancePage\r\n  ]\r\n})\r\nexport class AttendancePageModule {}\r\n","import { ActivatedRoute } from '@angular/router';\r\nimport { ApiService } from '../services/api/api.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ControllerService } from '../services/controller/controller.service';\r\n\r\n@Component({\r\n    selector: 'app-attendance',\r\n    templateUrl: './attendance.page.html',\r\n    styleUrls: ['./attendance.page.scss'],\r\n})\r\nexport class AttendancePage implements OnInit {\r\n\r\n    id: string = '';\r\n    dateFrom: string = '';\r\n    dateTo: string = '';\r\n    computationType: string = '';\r\n    attendance: any = [];\r\n    loader: boolean = false;\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private api: ApiService,\r\n        private controller: ControllerService,\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.loadAttendance();\r\n    }\r\n\r\n    loadAttendance() {\r\n        this.loader = true;\r\n        this.route.params\r\n        .subscribe(params => {\r\n            this.id = params.id;\r\n            this.dateFrom = params.dateFrom;\r\n            this.dateTo = params.dateTo;\r\n            this.computationType = params.computationType;\r\n\r\n            this.api.get(\r\n                `accounting` +\r\n                `?dateFrom=${this.dateFrom}` +\r\n                `&dateTo=${this.dateTo}` +\r\n                `&computationType=${this.computationType}` +\r\n                `&employeeId=${this.id}`\r\n            )\r\n            .subscribe(\r\n                (res: any) => {\r\n                    this.loader = false;\r\n                    this.attendance = res.data ? res.data[0] : [];\r\n                    console.log(this.attendance);\r\n                },\r\n                (err: any) => {\r\n                    this.loader = false;\r\n                    this.controller.showErrorAlert(err);\r\n                }\r\n            ); \r\n        });\r\n    }\r\n\r\n    updateAttendance(type, att, e = null) {\r\n        if (e === null) {\r\n\r\n        } else {\r\n            if (type == 'leave') {\r\n                att.on_leave = e.target.checked ? 1 : 0;\r\n                if (e.target.checked) {\r\n                    att.on_half_leave = 0;\r\n                }\r\n            } else if (type == 'half_leave') {\r\n                 att.on_half_leave = e.target.checked ? 1 : 0;\r\n                 if (e.target.checked) {\r\n                    att.on_leave = 0;\r\n                }\r\n            } else if (type == 'absent') {\r\n                att.is_absent = e.target.checked ? 1 : 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n","export default \"th {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF0dGVuZGFuY2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Msa0JBQUE7QUFDRCIsImZpbGUiOiJhdHRlbmRhbmNlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRoIHtcclxuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn0iXX0= */\";","export default \"<app-navbar [title]=\\\"'ATTENDANCE'\\\" [icon]=\\\"'body-outline'\\\" [loader]=\\\"loader\\\">\\r\\n    <div content>\\r\\n        Browse Attendance\\r\\n\\r\\n        <br><br>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-4\\\">\\r\\n                <strong class=\\\"text-primary\\\">Employee ID:</strong> {{attendance.employee_id ? attendance.employee_id : 'N/A'}}<br>\\r\\n                <strong class=\\\"text-primary\\\">Employee Name:</strong> {{attendance.name ? attendance.name : 'N/A'}}<br>\\r\\n                <strong class=\\\"text-primary\\\">Position:</strong> {{attendance.position ? attendance.position : 'N/A'}}<br>\\r\\n                <strong class=\\\"text-primary\\\">Department:</strong> {{attendance.department ? attendance.department : 'N/A'}}<br>\\r\\n            </div>\\r\\n            <div class=\\\"col-4\\\">\\r\\n                <strong class=\\\"text-primary\\\">Rate:</strong> ₱ {{attendance.rate ? attendance.rate : '0.00'}}<br>\\r\\n                <strong class=\\\"text-primary\\\">Overtime Pay:</strong> ₱ {{attendance.ot_pay ? attendance.ot_pay : '0.00'}}<br>\\r\\n                <strong class=\\\"text-primary\\\">Net of Absences:</strong> ₱ {{attendance.net_absences ? attendance.net_absences : '0.00'}}<br>\\r\\n                <strong class=\\\"text-primary\\\">Grosspay:</strong> ₱ {{attendance.grosspay ? attendance.grosspay : '0.00'}}<br>                \\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div style=\\\"overflow: auto;\\\">\\r\\n            <table class=\\\"table table-hover table-borderless data-table\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th class=\\\"text-muted\\\" style=\\\"text-align: left; padding-left: 50px !important;\\\">\\r\\n                            Action\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Day Type\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Date\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Official<br>\\r\\n                            Time in & Time out\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Actual<br>\\r\\n                            Time in & Time out\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Time in<br>\\r\\n                            Location & Image\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Time out<br>\\r\\n                            Location & Image\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Late<br>(Mins)\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Undertime<br>(Mins)\\r\\n                        </th>\\r\\n                        <th class=\\\" text-muted\\\">\\r\\n                            Absent<br>(Mins)\\r\\n                        </th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let att of attendance.attendance\\\" class=\\\"bg-light data-row\\\">\\r\\n                        <th style=\\\"text-align: left; padding-left: 50px !important;\\\">\\r\\n                            <ion-checkbox [checked]=\\\"att.is_absent === 1\\\" (ionChange)=\\\"updateAttendance('absent', att, $event)\\\"></ion-checkbox> Absent<br>\\r\\n                            <ion-checkbox [checked]=\\\"att.on_leave === 1\\\" (ionChange)=\\\"updateAttendance('leave', att, $event)\\\"></ion-checkbox> Leave<br>\\r\\n                            <ion-checkbox [checked]=\\\"att.on_half_leave === 1\\\" (ionChange)=\\\"updateAttendance('half_leave', att, $event)\\\"></ion-checkbox> Half Leave \\r\\n                        </th>\\r\\n                        <th class=\\\"text-primary pointer\\\">\\r\\n                            <span (click)=\\\"updateAttendance('absent', att)\\\">\\r\\n                                {{att.day_type | titlecase}}\\r\\n                            </span>\\r\\n                        </th>\\r\\n                        <th>\\r\\n                            {{att.date | date: 'EEEE'}}<br>\\r\\n                            {{att.date | date: 'MMM d, y'}}\\r\\n                        </th>\\r\\n                        <th class=\\\"text-primary pointer\\\">\\r\\n                            {{att.official_time_in | date: 'medium'}}<br>\\r\\n                            {{att.official_time_out | date: 'medium'}}\\r\\n                        </th>\\r\\n                        <th class=\\\"text-primary pointer\\\">\\r\\n                            {{att.time_in ? (att.time_in | date: 'medium') : 'N/A'}}<br>\\r\\n                            {{att.time_out ? (att.time_out | date: 'medium') : 'N/A'}}\\r\\n                        </th>\\r\\n                        <th>\\r\\n                            <a\\r\\n                              href=\\\"https://www.google.pl/maps/place//@{{att.time_in_latitude}},{{att.time_in_longitude}},19z\\\"\\r\\n                              target=\\\"_blank\\\"\\r\\n                              *ngIf=\\\"att.time_in_latitude !== null && att.time_in_longitude !== null\\\">\\r\\n                                Click here to open in maps\\r\\n                            </a>\\r\\n                            <span *ngIf=\\\"att.time_in_latitude === null || att.time_in_longitude === null\\\">Location not available</span>\\r\\n                            <br>\\r\\n                            <a\\r\\n                              href=\\\"{{att.time_in_image}}\\\"\\r\\n                              target=\\\"_blank\\\"\\r\\n                              *ngIf=\\\"att.time_in_image !== null\\\">\\r\\n                                Click here to view image\\r\\n                            </a>\\r\\n                            <span *ngIf=\\\"att.time_in_image === null\\\">Image not available</span>\\r\\n                        </th>\\r\\n                        <th>\\r\\n                            <a\\r\\n                              href=\\\"https://www.google.pl/maps/place//@{{att.time_in_latitude}},{{att.time_in_longitude}},19z\\\"\\r\\n                              target=\\\"_blank\\\"\\r\\n                              *ngIf=\\\"att.time_out_latitude !== null && att.time_out_longitude !== null\\\">\\r\\n                                Click here to open in maps\\r\\n                            </a>\\r\\n                            <span *ngIf=\\\"att.time_out_latitude === null || att.time_out_longitude === null\\\">Location not available</span>\\r\\n                            <br>\\r\\n                            <a\\r\\n                              href=\\\"{{att.time_out_image}}\\\"\\r\\n                              target=\\\"_blank\\\"\\r\\n                              *ngIf=\\\"att.time_out_image !== null\\\">\\r\\n                                Click here to view image\\r\\n                            </a>\\r\\n                            <span *ngIf=\\\"att.time_out_image === null\\\">Image not available</span>\\r\\n                        </th>\\r\\n                        <th>\\r\\n                            {{att.late_mins}}\\r\\n                        </th>\\r\\n                        <th>\\r\\n                            {{att.undertime_mins}}\\r\\n                        </th>\\r\\n                        <th>\\r\\n                            {{att.absent_mins}}\\r\\n                        </th>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</app-navbar>\";"],"sourceRoot":"webpack:///"}