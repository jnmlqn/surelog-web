{"version":3,"sources":["./src/app/accounting/accounting-routing.module.ts","./src/app/accounting/accounting.module.ts","./src/app/accounting/accounting.page.ts","./src/app/accounting/accounting.page.scss","./src/app/accounting/accounting.page.html"],"names":[],"mappings":"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","file":"src_app_accounting_accounting_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AccountingPage } from './accounting.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AccountingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AccountingPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AccountingPage } from './accounting.page';\r\n\r\nimport { AccountingPageRoutingModule } from './accounting-routing.module';\r\n\r\nimport { SharedComponentsModule } from '../components/shared-components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    AccountingPageRoutingModule,\r\n    SharedComponentsModule\r\n  ],\r\n  declarations: [\r\n    AccountingPage\r\n  ]\r\n})\r\nexport class AccountingPageModule {}\r\n","import { ApiService } from '../services/api/api.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ControllerService } from '../services/controller/controller.service';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { SearchPage } from '../modals/search/search.page';\r\n\r\n@Component({\r\n    selector: 'app-accounting',\r\n    templateUrl: './accounting.page.html',\r\n    styleUrls: ['./accounting.page.scss'],\r\n})\r\nexport class AccountingPage implements OnInit {\r\n\r\n    dateFrom: string = '';\r\n    dateTo: string = '';\r\n    departments: any = [];\r\n    department_id: string = '';\r\n    computationType: string = ''\r\n    sort_by: string = 'first_name';\r\n    sorting: string = 'asc';\r\n    project: any = {\r\n        id: '',\r\n        name: ''\r\n    };\r\n    loader: boolean = false;\r\n    attendance: any = {\r\n        data: []\r\n    };\r\n\r\n    constructor(\r\n        private api: ApiService,\r\n        private controller: ControllerService,\r\n        private modalCtrl: ModalController\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        \r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        this.api.get(`hr-data`)\r\n        .subscribe(\r\n            (res: any) => {                \r\n                this.departments = res.data.departments;\r\n            },\r\n            (err: any) => {\r\n                this.controller.showErrorAlert(err);\r\n            }\r\n\r\n        );\r\n    }\r\n\r\n    compute() {\r\n        this.loader = true;\r\n        this.api.get(\r\n            `accounting` +\r\n            `?dateFrom=${this.dateFrom}` +\r\n            `&dateTo=${this.dateTo}` +\r\n            `&departmentId=${this.department_id}` +\r\n            `&computationType=${this.computationType}` +\r\n            `&projectId=${this.project.id}` +\r\n            `&sortBy=${this.sort_by}` +\r\n            `&sorting=${this.sorting}`\r\n        )\r\n        .subscribe(\r\n            (res: any) => {\r\n                this.loader = false;\r\n                this.attendance = res;\r\n            },\r\n            (err: any) => {\r\n                this.loader = false;\r\n                this.controller.showErrorAlert(err);\r\n            }\r\n        ); \r\n    }\r\n\r\n    updateAttendance(attendance) {\r\n        if (attendance.sss_check) {\r\n            attendance.sss = attendance.sss_deduction;\r\n        } else {\r\n            attendance.sss = 0;\r\n        }\r\n\r\n        if (attendance.pagibig_check) {\r\n            attendance.pagibig = attendance.pagibig_deduction;\r\n        } else {\r\n            attendance.pagibig = 0;\r\n        }\r\n\r\n        if (attendance.philhealth_check) {\r\n            attendance.philhealth = attendance.philhealth_deduction;\r\n        } else {\r\n            attendance.philhealth = 0;\r\n        }\r\n\r\n        let data = {\r\n            userId: attendance.id,\r\n            dateFrom: this.dateFrom,\r\n            dateTo: this.dateTo,\r\n            computationType: this.computationType,\r\n            projectId: this.project.id,\r\n            inputs: {\r\n                backpay: attendance.backpay,\r\n                pot_pay: attendance.pot_pay,\r\n                sss: attendance.sss,\r\n                pagibig: attendance.pagibig,\r\n                philhealth: attendance.philhealth,\r\n                sss_loan: attendance.sss_loan,\r\n                pagibig_loan: attendance.pagibig_loan,\r\n                out_of_office: attendance.out_of_office,\r\n                cash_advance: attendance.cash_advance\r\n            }\r\n        }\r\n\r\n        this.loader = true;\r\n        this.api.post(`accounting`, data)\r\n        .subscribe(\r\n            (res: any) => {\r\n                let i = this.attendance.data.indexOf(attendance);\r\n                this.attendance.data[i] = res.data;\r\n                this.loader = false;\r\n            },\r\n            (err: any) => {\r\n                this.loader = false;\r\n                this.controller.showErrorAlert(err);\r\n            }\r\n        );\r\n    }\r\n\r\n    async searchProject() {\r\n        const modal = await this.modalCtrl.create({\r\n            component: SearchPage,\r\n            componentProps: {\r\n                title: 'Search Project',\r\n                url: 'projects?get=true&limit=20&keyword=',\r\n                defaultLabel: 'No Project',\r\n                defaultValue: ''\r\n\r\n            }\r\n        });\r\n\r\n        await modal.present();\r\n\r\n        const { data } = await modal.onWillDismiss();\r\n        if (data !== undefined) {\r\n            this.project = data.data;\r\n        }\r\n    }\r\n\r\n    sortData(sort_by) {\r\n        this.sort_by = sort_by;\r\n        this.sorting = this.sorting == 'desc' ? 'asc' : 'desc';\r\n        this.compute();\r\n    }\r\n\r\n    checkAll(e, type) {\r\n        for (const attendance of this.attendance.data) {\r\n            if (e.srcElement.checked) {\r\n                attendance[`${type}_check`] = true;\r\n            } else {\r\n                attendance[`${type}_check`] = false;\r\n            }\r\n        }\r\n\r\n        this.bulkUpdate();\r\n    }\r\n\r\n    bulkUpdate() {\r\n        let employees = [];\r\n        for (const attendance of this.attendance.data){\r\n            if (attendance.sss_check) {\r\n                attendance.sss = attendance.sss_deduction;\r\n            } else {\r\n                attendance.sss = 0;\r\n            }\r\n\r\n            if (attendance.pagibig_check) {\r\n                attendance.pagibig = attendance.pagibig_deduction;\r\n            } else {\r\n                attendance.pagibig = 0;\r\n            }\r\n\r\n            if (attendance.philhealth_check) {\r\n                attendance.philhealth = attendance.philhealth_deduction;\r\n            } else {\r\n                attendance.philhealth = 0;\r\n            }\r\n\r\n            employees.push({\r\n                userId: attendance.id,\r\n                inputs: {\r\n                    backpay: attendance.backpay,\r\n                    pot_pay: attendance.pot_pay,\r\n                    sss: attendance.sss,\r\n                    pagibig: attendance.pagibig,\r\n                    philhealth: attendance.philhealth,\r\n                    sss_loan: attendance.sss_loan,\r\n                    pagibig_loan: attendance.pagibig_loan,\r\n                    out_of_office: attendance.out_of_office,\r\n                    cash_advance: attendance.cash_advance\r\n                }\r\n            });\r\n        }\r\n\r\n        let data = {\r\n            dateFrom: this.dateFrom,\r\n            dateTo: this.dateTo,\r\n            computationType: this.computationType,\r\n            projectId: this.project.id,\r\n            employees: employees\r\n        };\r\n\r\n        this.loader = true;\r\n        this.api.post(`accounting/bulk`, data)\r\n        .subscribe(\r\n            (res: any) => {\r\n                this.attendance.data = res.data;\r\n                this.loader = false;\r\n            },\r\n            (err: any) => {\r\n                this.loader = false;\r\n                this.controller.showErrorAlert(err);\r\n            }\r\n        );\r\n    }\r\n\r\n    isCheckedAll(type) {\r\n        for (const a of this.attendance.data) {\r\n            if (!a[`${type}_check`]) {\r\n                return false\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","export default \"th {\\n  white-space: nowrap;\\n}\\nth .inputs {\\n  width: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRpbmcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsbUJBQUE7QUFDRDtBQUFDO0VBQ0MsWUFBQTtBQUVGIiwiZmlsZSI6ImFjY291bnRpbmcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGgge1xyXG5cdHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcblx0LmlucHV0cyB7XHJcblx0XHR3aWR0aDogMTAwcHg7XHJcblx0fVxyXG59Il19 */\";","export default \"<app-navbar [title]=\\\"'ACCOUNTING'\\\" [loader]=\\\"loader\\\">\\r\\n    <div content>\\r\\n        Payroll\\r\\n        <br><br>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-3 mt-2\\\">\\r\\n                <label>Date From</label>\\r\\n                <input type=\\\"date\\\" class=\\\"form-control form-control-sm\\\" [(ngModel)]=\\\"dateFrom\\\" placeholder=\\\"Search\\\">\\r\\n                <br>\\r\\n                <label>Date To</label>\\r\\n                <input type=\\\"date\\\" class=\\\"form-control form-control-sm\\\" [(ngModel)]=\\\"dateTo\\\" placeholder=\\\"Search\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3 mt-2\\\">\\r\\n                <label>Filter by Department</label>\\r\\n                <ion-select placeholder=\\\"Select Department\\\" class=\\\"form-control form-control-sm\\\" [(ngModel)]=\\\"department_id\\\">\\r\\n                    <ion-select-option value=\\\"\\\">All Departments</ion-select-option>\\r\\n                    <ion-select-option value=\\\"{{department.id}}\\\" *ngFor=\\\"let department of departments\\\">\\r\\n                        {{department.name}}\\r\\n                    </ion-select-option>\\r\\n                </ion-select>\\r\\n                <br>\\r\\n                <label>Group by Project</label>\\r\\n                <input type=\\\"text\\\" class=\\\"form-control form-control-sm bg-light\\\" [(ngModel)]=\\\"project.name\\\" readonly placeholder=\\\"Click to search\\\" (click)=\\\"searchProject()\\\" style=\\\"cursor: pointer;\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3 mt-2\\\">\\r\\n                <label>Computation Type</label>\\r\\n                <div class=\\\"row mt-3\\\">\\r\\n                    <div class=\\\"form-check col\\\">\\r\\n                        <input class=\\\"form-check-input\\\" type=\\\"radio\\\" name=\\\"flexRadioDefault\\\" id=\\\"flexRadioDefault1\\\" value=\\\"1_cutoff\\\" [(ngModel)]=\\\"computationType\\\">\\r\\n                        <label class=\\\"form-check-label\\\" for=\\\"flexRadioDefault1\\\">\\r\\n                            1 Cutoff\\r\\n                        </label>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-check col\\\">\\r\\n                        <input class=\\\"form-check-input\\\" type=\\\"radio\\\" name=\\\"flexRadioDefault\\\" id=\\\"flexRadioDefault2\\\" checked value=\\\"2_cutoffs\\\" [(ngModel)]=\\\"computationType\\\">\\r\\n                        <label class=\\\"form-check-label\\\" for=\\\"flexRadioDefault2\\\">\\r\\n                            2 Cutoff\\r\\n                        </label>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-check col\\\">\\r\\n                        <input class=\\\"form-check-input\\\" type=\\\"radio\\\" name=\\\"flexRadioDefault\\\" id=\\\"flexRadioDefault3\\\" value=\\\"daily\\\" [(ngModel)]=\\\"computationType\\\">\\r\\n                        <label class=\\\"form-check-label\\\" for=\\\"flexRadioDefault3\\\">\\r\\n                            Daily Pay\\r\\n                        </label>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3 mt-4\\\">\\r\\n                <button class=\\\"surelog-btn secondary-bg shadow border-0 right\\\" (click)=\\\"compute()\\\">\\r\\n                    <ion-icon name=\\\"calculator-outline\\\"></ion-icon>\\r\\n                    &nbsp;\\r\\n                    <label>Compute</label>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <br><br>\\r\\n        \\r\\n        <div style=\\\"overflow: auto;\\\">\\r\\n            <table class=\\\"table table-hover table-borderless data-table\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <span class=\\\"pointer sort\\\" (click)=\\\"sortData('employee_id')\\\">\\r\\n                                Employee ID\\r\\n                                <ion-icon name=\\\"chevron-{{sorting == 'desc' && sort_by == 'employee_id' ? 'down' : 'up'}}-outline\\\"></ion-icon>\\r\\n                            </span>\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <span class=\\\"pointer sort\\\" (click)=\\\"sortData('first_name')\\\">\\r\\n                                Employee Name\\r\\n                                <ion-icon name=\\\"chevron-{{sorting == 'desc' && sort_by == 'first_name' ? 'down' : 'up'}}-outline\\\"></ion-icon>\\r\\n                            </span>\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <span class=\\\"pointer sort\\\" (click)=\\\"sortData('position')\\\">\\r\\n                                Position\\r\\n                                <ion-icon name=\\\"chevron-{{sorting == 'desc' && sort_by == 'position' ? 'down' : 'up'}}-outline\\\"></ion-icon>\\r\\n                            </span>\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <span class=\\\"pointer sort\\\" (click)=\\\"sortData('rate')\\\">\\r\\n                                Rate\\r\\n                                <ion-icon name=\\\"chevron-{{sorting == 'desc' && sort_by == 'rate' ? 'down' : 'up'}}-outline\\\"></ion-icon>\\r\\n                            </span>\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <span class=\\\"pointer sort\\\" (click)=\\\"sortData('taxable_allowance')\\\">\\r\\n                                Taxable Allowance\\r\\n                                <ion-icon name=\\\"chevron-{{sorting == 'desc' && sort_by == 'taxable_allowance' ? 'down' : 'up'}}-outline\\\"></ion-icon>\\r\\n                            </span>\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <span class=\\\"pointer sort\\\" (click)=\\\"sortData('department')\\\">\\r\\n                                Department\\r\\n                                <ion-icon name=\\\"chevron-{{sorting == 'desc' && sort_by == 'department' ? 'down' : 'up'}}-outline\\\"></ion-icon>\\r\\n                            </span>\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Employment Type\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Daily Rate\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Overtime Pay\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Total Absences<br>in minutes<br>\\r\\n                            (Late, Absent, Undertime)\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Net of<br>Absences\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Backpay\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Previous<br>Overtime Pay\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Grosspay\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <input type=\\\"checkbox\\\" class=\\\"form-check-input\\\" (change)=\\\"checkAll($event, 'sss')\\\" [checked]=\\\"isCheckedAll('sss')\\\">\\r\\n                            SSS\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <input type=\\\"checkbox\\\" class=\\\"form-check-input\\\" (change)=\\\"checkAll($event, 'pagibig')\\\" [checked]=\\\"isCheckedAll('pagibig')\\\">\\r\\n                            Pag-ibig\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            <input type=\\\"checkbox\\\" class=\\\"form-check-input\\\" (change)=\\\"checkAll($event, 'philhealth')\\\" [checked]=\\\"isCheckedAll('philhealth')\\\">\\r\\n                            Philhealth\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            SSS Loan\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Pag-ibig Loan\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Tax\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Out of office<br>time (mins)\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Cash Advance\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Total Deductions\\r\\n                        </th>\\r\\n                        <th class=\\\"text-muted center\\\">\\r\\n                            Netpay\\r\\n                        </th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let attendance of attendance.data\\\" class=\\\"bg-light data-row\\\">\\r\\n                        <th class=\\\"center\\\">{{attendance.employee_id ? attendance.employee_id : 'N/A'}}</th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <a href=\\\"/attendance/{{attendance.id}}/{{dateFrom}}/{{dateTo}}/{{computationType}}\\\" target=\\\"_blank\\\">{{attendance.name}}</a>\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">{{attendance.position ? attendance.position : 'N/A'}}</th>\\r\\n                        <th class=\\\"center\\\">₱ {{attendance.rate}}</th>\\r\\n                        <th class=\\\"center\\\">₱ {{attendance.taxable_allowance ? attendance.taxable_allowance : 0}}</th>\\r\\n                        <th class=\\\"center\\\">{{attendance.department ? attendance.department : 'N/A'}}</th>\\r\\n                        <th class=\\\"center\\\">{{attendance.employment_type_id.name}}</th>\\r\\n                        <th class=\\\"center\\\">₱ {{attendance.daily_rate}}</th>\\r\\n                        <th class=\\\"center\\\">₱ {{attendance.ot_pay}}</th>\\r\\n                        <th class=\\\"center\\\">{{attendance.total_absences}}</th>\\r\\n                        <th class=\\\"center\\\">₱ {{attendance.net_absences}}</th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.backpay\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.pot_pay\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">₱ {{attendance.grosspay}}</th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <table>\\r\\n                                <tr>\\r\\n                                    <td class=\\\"px-2\\\">\\r\\n                                        <input type=\\\"checkbox\\\" class=\\\"form-check-input\\\" [(ngModel)]=\\\"attendance.sss_check\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                                    </td>\\r\\n                                    <td>\\r\\n                                        <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.sss_deduction\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                            </table>\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <table>\\r\\n                                <tr>\\r\\n                                    <td class=\\\"px-2\\\">\\r\\n                                        <input type=\\\"checkbox\\\" class=\\\"form-check-input\\\" [(ngModel)]=\\\"attendance.pagibig_check\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                                    </td>\\r\\n                                    <td>\\r\\n                                        <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.pagibig_deduction\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                            </table>\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <table>\\r\\n                                <tr>\\r\\n                                    <td class=\\\"px-2\\\">\\r\\n                                        <input type=\\\"checkbox\\\" class=\\\"form-check-input\\\" [(ngModel)]=\\\"attendance.philhealth_check\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                                    </td>\\r\\n                                    <td>\\r\\n                                        <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.philhealth_deduction\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                            </table>\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.sss_loan\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.pagibig_loan\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">{{attendance.tax}}</th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.out_of_office\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">\\r\\n                            <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"form-control inputs\\\" [(ngModel)]=\\\"attendance.cash_advance\\\" (change)=\\\"updateAttendance(attendance)\\\">\\r\\n                        </th>\\r\\n                        <th class=\\\"center\\\">₱ {{attendance.total_deductions}}</th>\\r\\n                        <th class=\\\"center\\\">₱ {{attendance.net_pay}}</th>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</app-navbar>\";"],"sourceRoot":"webpack:///"}